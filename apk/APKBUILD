# Contributor: Dan Rollo <drollo@sonatype.com>
# Maintainer: Sonatype Community <community-group@sonatype.com>
pkgname=nexus-repository-manager
pkgver="APK_VERSION"
pkgrel=0
pkgdesc="Nexus Repository Manager 3"
url="https://www.sonatype.com"
bundle="BUNDLE_PATH"
# arch="all"
arch="noarch"
license="Proprietary"
depends="openjdk8"
makedepends=""
install="$pkgname.pre-install $pkgname.post-install $pkgname.pre-deinstall"
#source=""
builddir="$srcdir/"

prepare() {
	default_prepare
}

build() {
        echo "srcdir: $srcdir"
        tar -xz -f "$bundle"
}

# check() {
#         # Replace with proper check command(s)
#         :
# }

package() {
        cd "$builddir"
        echo "builddir: $builddir"
        pwd

        mkdir -p "$pkgdir"
        echo "pkgdir: $pkgdir"
        cd "$pkgdir"
        install -m755 "$srcdir/" "${pkgdir}/opt/sonatype/nexus3"
#         install -m755 "$srcdir/" "${pkgdir}/opt/sonatype/sonatype-work/nexus3"

#         make DESTDIR="$pkgdir" install
#         install -Dm644 "$srcdir"/zprofile "$pkgdir"/etc/zsh/zprofile
#         install -Dm644 LICENCE "$pkgdir"/usr/share/licenses/$pkgname/LICENCE
}
